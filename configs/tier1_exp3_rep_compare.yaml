# Tier 1 - Experiment 3: Representation comparison

seed: 42
slice: all

data:
  librispeech_path: ./data/LibriSpeech
  subset: train-clean-100
  min_duration_sec: 3.0
  # Reuse Phase 0 speaker split
  splits_dir: ./outputs/phase0/splits
  # Optional: limit utterances for a quick run
  max_utterances: null

context:
  window_size: 8
  horizons_k: [1, 2, 4, 8]

# Phase 1 baseline (MDN) settings for comparison runs
model:
  n_components: 8
  hidden_dim: 1024
  n_hidden_layers: 2
  dropout: 0.0
  min_log_sigma: -7.0
  max_log_sigma: 2.0

train:
  device: auto
  seed: 42
  batch_size: 256
  num_workers: 0
  max_steps: 15000
  lr: 1.0e-3
  weight_decay: 1.0e-4
  grad_clip_norm: 1.0
  log_every: 200
  eval_every: 2000
  save_every: 5000
  max_train_samples: null
  max_eval_samples: 200000
  shuffle_buffer: 8192

rollout:
  enabled: true
  n_eval_utterances: 16
  max_frames_per_utterance: 2000
  sample_from_mixture: false

representations:
  - name: mimi12
    type: mimi
    # Optional local checkpoint; if null, mimi_autoencoder will try HF download.
    checkpoint: null
    batch_size: 1
    num_workers: 4
    prefetch_factor: 2
    amp: true
    amp_dtype: bf16

  - name: encodec
    type: encodec

output:
  out_dir: ./outputs/tier1/exp3_rep_compare
